# chat-example
Проект по МОЗИ.

## Описание проекта


Основная идея проекта это реализовать защищенный месседжер, 
который будет работать по принципу [e2ee](https://en.wikipedia.org/wiki/End-to-end_encryption) шифрования сообщений.

## Поставленные цели

- [x] Добавить возможность регистрации пользователя 
- [x] Добавить возможность добавления пользователя в контакты 
- [x] Добавить возможность отправки защищенных сообщений между 2умя
  пользователями
- [ ] Добавить возможность общения пользователей в группах(chat rooms)
- [ ] Добавть возможность отправки медиа, помимо текстовых сообщений
## Деталии реализации


Каждый пользователь нашего месседжера имеет свой private-key и public-key, для последуещего обмена ключами.
### Регистрация
Процесс регистрации подразумевает создание на сервере записи
о новом пользователе (имя пользователя считается уникальным).

### Аунтификация
Реализована простая система challenge-response аунтификации. Она заключается в создании сервером challenge (это рандомное сообщение зашифрованное с помощью public-key пользователя), затем сервер ожидает от пользователя расшифрованное сообщение.

### Добавление пользователя в контакты
Подразумевает собой получение общего shared-secret для шифрования сообщений.
Для получения shared-secret мы использовали протокол [DiffieHellman](https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange).

### Защищенные сообщения
Используем hash(sha-1) от shared-secret для симметричного шифрования сообщений при помощи [AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard).

## Технические детали
О технических деталях можно узнать [здесь](https://github.com/grigagod/chat-example/blob/master/%D0%A2%D0%97.pdf)
## Используемые технологии
 * Golang для серверной и клиентской части (этот выбор обусловлен простотой языка
 и его узкой специализацией )
 * PostgreSQL для серверной БД, SQLite3 для клиентской(более легковесна)
 * Библиотека [websocket](https://pkg.go.dev/golang.org/x/net/websocket) реализующая протокол WebSocket для клиентской и серверной части в Go
 * Библиотека [gob](https://golang.org/pkg/encoding/gob/) для сериализации/десерализации данных
 * Библиотека [GORM](https://gorm.io/) для работы с БД в Go
 * Библиотеки [crypto](https://golang.org/pkg/crypto/) для AES и SHA-1
 * Библиотека [tview](https://pkg.go.dev/github.com/rivo/tview) для реализации терминального GUI
